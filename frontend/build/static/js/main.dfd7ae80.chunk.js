(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{19:function(e,t,n){e.exports=n(32)},24:function(e,t,n){},25:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),l=n.n(c),o=(n(24),n(17)),u=n(1);n(25);var i=function(){return r.a.createElement("h1",{id:"title"},"COP 4331 MERN Stack Demo")},s=n(6),d=n.n(s),p=n(10),m=n(8);var f=function(){var e,t,n=Object(a.useState)(""),c=Object(m.a)(n,2),l=c[0],o=c[1],u=function(){var n=Object(p.a)(d.a.mark((function n(a){var r,c,l,u,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),r={login:e.value,password:t.value},c=JSON.stringify(r),n.prev=3,n.next=6,fetch("https://cop4331-8.herokuapp.com/"+"api/login",{method:"POST",body:c,headers:{"Content-Type":"application/json"}});case 6:return l=n.sent,n.t0=JSON,n.next=10,l.text();case 10:n.t1=n.sent,(u=n.t0.parse.call(n.t0,n.t1)).id<=0?o("User/Password combination incorrect"):(i={firstName:u.firstName,lastName:u.lastName,id:u.id},localStorage.setItem("user_data",JSON.stringify(i)),o(""),window.location.href="/cards"),n.next=19;break;case 15:return n.prev=15,n.t2=n.catch(3),alert(n.t2.toString()),n.abrupt("return");case 19:case"end":return n.stop()}}),n,null,[[3,15]])})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement("div",{id:"loginDiv"},r.a.createElement("form",{onSubmit:u},r.a.createElement("span",{id:"inner-title"},"PLEASE LOG IN"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"loginName",placeholder:"Username",ref:function(t){return e=t}}),r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"loginPassword",placeholder:"Password",ref:function(e){return t=e}}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",id:"loginButton",class:"buttons",value:"Do It",onClick:u})),r.a.createElement("span",{id:"loginResult"},l))},h=function(){return r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(f,null))};var E=function(){return r.a.createElement("div",{id:"loggedInDiv"},r.a.createElement("span",{id:"userName"},"Logged In As John Doe "),r.a.createElement("br",null),r.a.createElement("button",{type:"button",id:"logoutButton",class:"buttons",onClick:function(e){e.preventDefault(),alert("doLogout")}}," Log Out "))};var b=function(){function e(e){return"https://cop4331-8.herokuapp.com/"+e}var t="",n="",c=Object(a.useState)(""),l=Object(m.a)(c,2),o=l[0],u=l[1],i=Object(a.useState)(""),s=Object(m.a)(i,2),f=s[0],h=s[1],E=Object(a.useState)(""),b=Object(m.a)(E,2),v=b[0],g=b[1],S=localStorage.getItem("user_data"),y=JSON.parse(S),O=y.id,w=(y.firstName,y.lastName,function(){var n=Object(p.a)(d.a.mark((function n(a){var r,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),r={userId:O,card:t.value},c=JSON.stringify(r);try{fetch(e("api/addcard"),{method:"POST",body:c,headers:{"Content-Type":"application/json"}}),u("Card has been added")}catch(l){u(l.toString())}case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),x=function(){var t=Object(p.a)(d.a.mark((function t(a){var r,c,l,o,u,i,s,p;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r={userId:O,search:n.value},c=JSON.stringify(r),t.prev=3,t.next=6,fetch(e("api/searchcards"),{method:"POST",body:c,headers:{"Content-Type":"application/json"}});case 6:return l=t.sent,t.next=9,l.text();case 9:for(o=t.sent,u=JSON.parse(o),i=u.results,s="",p=0;p<i.length;p++)s+=i[p],p<i.length-1&&(s+=", ");h("Card(s) have been retrieved"),g(s),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(3),alert(t.t0.toString()),h(t.t0.toString());case 22:case"end":return t.stop()}}),t,null,[[3,18]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{id:"cardUIDiv"},r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"searchText",placeholder:"Card To Search For",ref:function(e){return n=e}}),r.a.createElement("button",{type:"button",id:"searchCardButton",class:"buttons",onClick:x}," Search Card"),r.a.createElement("br",null),r.a.createElement("span",{id:"cardSearchResult"},f),r.a.createElement("p",{id:"cardList"},v),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"cardText",placeholder:"Card To Add",ref:function(e){return t=e}}),r.a.createElement("button",{type:"button",id:"addCardButton",class:"buttons",onClick:w}," Add Card "),r.a.createElement("br",null),r.a.createElement("span",{id:"cardAddResult"},o))},v=function(){return r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(E,null),r.a.createElement(b,null))};var g=function(){return r.a.createElement(o.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",exact:!0},r.a.createElement(h,null)),r.a.createElement(u.b,{path:"/cards",exact:!0},r.a.createElement(v,null)),r.a.createElement(u.a,{to:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.dfd7ae80.chunk.js.map